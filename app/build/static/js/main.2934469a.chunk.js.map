{"version":3,"sources":["components/PhotoDisplayer.js","components/SwipeView.js","components/ImagesView.js","App.js","index.js"],"names":["PhotoDisplayer","props","state","mouse_down","start_x","start_y","x","y","choice","cover_opacity","on_mouse_down","bind","on_mouse_up","on_mouse_move","e","type","touch","touches","changedTouches","pageX","pageY","clientX","clientY","cords","this","get_event_cordinates","setState","photo_action","x_ratio","window","screen","width","Math","abs","className","onTouchMove","onTouchStart","onTouchEnd","onMouseMove","onMouseDown","onMouseUp","style","position","left","top","opacity","icon","faHeart","src","img","Component","SwipeView","img_path","load_photo","action","image_id","split","length","$","get","data","fail","faCloud","ImagesView","load_data","prevProps","images","entries","index","value","push","key","alt","App","views","swipe","liked_view","unliked_view","current_view","changeView","view","onClick","faThumbsUp","faThumbsDown","faHome","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2934469a.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faHeart } from '@fortawesome/free-solid-svg-icons'\r\n\r\nclass PhotoDisplayer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            mouse_down: false,\r\n            start_x: 0,\r\n            start_y: 0,\r\n            x: 0,\r\n            y: 0,\r\n            choice: null,\r\n            cover_opacity:0\r\n        };\r\n        this.on_mouse_down = this.on_mouse_down.bind(this);\r\n        this.on_mouse_up = this.on_mouse_up.bind(this);\r\n        this.on_mouse_move = this.on_mouse_move.bind(this);        \r\n    }\r\n    get_event_cordinates(e) {\r\n        if(e.type === 'touchstart' || e.type === 'touchmove' || e.type === 'touchend' || e.type === 'touchcancel'){\r\n            var touch = e.touches[0] || e.changedTouches[0];\r\n            return {x: touch.pageX, y: touch.pageY};\r\n        } else if (e.type === 'mousedown' || e.type === 'mouseup' || e.type === 'mousemove' || e.type === 'mouseover'|| e.type ==='mouseout' || e.type ==='mouseenter' || e.type ==='mouseleave') {\r\n\r\n            return {x: e.clientX, y: e.clientY};\r\n        }\r\n    }\r\n    on_mouse_down(e) {\r\n        let cords = this.get_event_cordinates(e);\r\n        this.setState({mouse_down:true, start_x: cords.x, start_y: cords.y});\r\n    }\r\n    on_mouse_up(e) {\r\n        if (this.state.choice !== null)\r\n            if (this.state.choice)\r\n                this.props.photo_action(\"like\");\r\n            else\r\n                this.props.photo_action(\"unlike\");\r\n            this.setState({start_x: 0, start_y: 0, x:0, y:0,choice:null, mouse_down: false, cover_opacity: 0});\r\n        \r\n    }\r\n    on_mouse_move(e) {\r\n        if (this.state.mouse_down) {\r\n            let cords = this.get_event_cordinates(e);\r\n            let state = {x: cords.x - this.state.start_x, y: cords.y - this.state.start_y, cover_opacity: 0, choice: null};\r\n            let x_ratio = state.x / (window.screen.width/4);\r\n            if (Math.abs(x_ratio) > 0.3)\r\n            {\r\n                state.cover_opacity = 0.5 * Math.abs(x_ratio);\r\n                if (x_ratio > 0)\r\n                    state.choice = true;\r\n                else\r\n                    state.choice = false\r\n            }\r\n            this.setState(state);\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"photo-display-wrapper\">\r\n                <div className=\"photo-display\" onTouchMove={this.on_mouse_move} onTouchStart={this.on_mouse_down} onTouchEnd={this.on_mouse_up}\r\n             onMouseMove={this.on_mouse_move} onMouseDown={this.on_mouse_down} onMouseUp={this.on_mouse_up} \r\n              style={{position: \"relative\", left: `${this.state.x}px`, top: `${this.state.y}px`}} >\r\n                    \r\n                    <div className=\"cover\" style={{opacity: this.state.cover_opacity}}>\r\n                        <div className=\"content\">{this.state.choice ? <FontAwesomeIcon icon={faHeart} />: \":(\"}</div>\r\n                    </div>\r\n                    <img src={this.props.img} />\r\n                </div>\r\n            </div>\r\n        );\r\n  }\r\n}\r\n\r\n\r\nexport default PhotoDisplayer;\r\n","import React, { Component } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faCloud } from '@fortawesome/free-solid-svg-icons'\r\nimport PhotoDisplayer from './PhotoDisplayer';\r\nimport $ from 'jquery';\r\n\r\n\r\nclass SwipeView extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {img_path:\"\"};\r\n        this.load_photo = this.load_photo.bind(this);\r\n        this.photo_action = this.photo_action.bind(this);\r\n    }\r\n    photo_action(action) {\r\n        let image_id =  this.state.img_path.split(\"id=\");\r\n        image_id = image_id[image_id.length - 1];\r\n        $.get(\"/image_action?id=\" + image_id + \"&action=\" + action, (data) => {\r\n            this.load_photo();\r\n        },\"json\");\r\n    }\r\n    load_photo() {\r\n        $.get(\"/next_image\", (data) => {\r\n            this.setState({img_path: data}); \r\n        }, \"json\").fail(() => {this.setState({img_path: \"\"});});\r\n    }\r\n    componentDidMount() {\r\n        this.load_photo();\r\n    }\r\n    render() { \r\n        return (        \r\n            <div className=\"wrapper\">\r\n                {this.state.img_path ? <PhotoDisplayer img={this.state.img_path} photo_action={this.photo_action}/> : \r\n                    <div className=\"no-pic\"><div className=\"thumbnail\"><FontAwesomeIcon icon={faCloud} /></div>No more unfiltered pictures</div>}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SwipeView;\r\n","import React, { Component } from 'react';\r\nimport $ from 'jquery';\r\n\r\nclass ImagesView extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {data: []};\r\n        \r\n    }\r\n    load_data(type) {\r\n    \t$.get(\"/images?type=\" + type, (data) => {\r\n            this.setState({data:data});\r\n        },\"json\");\r\n    \t\r\n    }\r\n    componentDidMount() {\r\n        this.load_data(this.props.type);\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps !== this.props)\r\n            this.load_data(this.props.type);\r\n    }\r\n    render() {\r\n        const images = [];\r\n        for(const [index, value] of this.state.data.entries())\r\n            images.push(<div className=\"thumbnail\" key={index}><img src={value} alt=\"image\" /></div>);\r\n        return (\r\n    \t\t<div className=\"images-view\">\r\n    \t\t\t{images}\r\n    \t\t</div>\r\n    \t\t);\r\n    }\r\n}\r\n\r\nexport default ImagesView;","import React, { Component } from 'react';\nimport './App.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faHome, faThumbsUp , faThumbsDown} from '@fortawesome/free-solid-svg-icons'\nimport SwipeView from './components/SwipeView';\nimport ImagesView from './components/ImagesView';\n\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.views = {swipe: <SwipeView />, liked_view: <ImagesView type=\"liked\" />, unliked_view: <ImagesView type=\"unliked\" />};\n        this.state = {current_view: this.views.swipe};\n        this.changeView = this.changeView.bind(this);\n    }\n    changeView(view) {\n        this.setState({current_view: view});\n    }\n    render() {\n\n        return (\n            <div className=\"App\">\n                <header className=\"App-header\">\n                    <div className=\"left\">\n                        <div className=\"logo\">SwipeToLike</div>\n                    </div>\n                    <div className=\"right\">\n                        <div className=\"btn\" onClick={() => this.changeView(this.views.liked_view)}><FontAwesomeIcon icon={faThumbsUp} /> Liked</div>\n                        <div className=\"btn\" onClick={() => this.changeView(this.views.unliked_view)}><FontAwesomeIcon icon={faThumbsDown} /> Unliked</div>\n                        <div className=\"btn\" onClick={() => this.changeView(this.views.swipe)}><FontAwesomeIcon icon={faHome} /></div>\n\n                    </div>\n                </header>\n                {this.state.current_view}\n            </div>\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'font-awesome/css/font-awesome.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}